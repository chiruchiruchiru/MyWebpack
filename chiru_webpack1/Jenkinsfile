def VAL="sample value"

pipeline { // Declarative pipelineであることを宣言する
  environment {
    SERVICE_CREDS = credentials('github-credentials')
  }
  agent any
  stages {
    stage("get resource") {
      steps {
        git 'https://github.com/chiruchiruchiru/MyWebpack.git'
      }
    }
    stage('echo') {
      steps {
        echo "${text}"
        echo "${VAL}"
      }
    }
    stage('Run test') {
      steps {
        sh "pwd"
        sh "ls -a"
        sh "mkdir -p ./rrr/ttt"
      }
    }
    stage('引渡し') {
      steps {
        build job: 'commit-release', parameters: [
          [$class: 'StringParameterValue', name: 'text', value: 'test text']
        ]
      }
    }
  }
}