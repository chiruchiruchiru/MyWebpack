pipeline { // Declarative pipelineであることを宣言する
  environment {
    git_url = "git@github.com:chiruchiruchiru/MyWebpack.git"
    repo_name = "jenkins-pipeline-sample"
  }
  agent any
  stages {
    stage("get resource") {
      environment {
        CLONE_RESULT = sh(script: "git clone ${git_url} ${repo_name}", returnStatus: true) == 0
      }
      steps {
        try {
          if(!CLONE_RESULT) {
            error "cloneに失敗しました"
          }
        } catch (err) {
          err_msg = "${err}"
        }
      }
    }
  }
}